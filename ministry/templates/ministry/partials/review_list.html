<div class="group-review-grid gap-4 columns-1 md:columns-2 space-y-4">
    {% for review in reviews %}
    <div
        class="break-inside-avoid bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-md transition">
        <div class="flex items-center mb-4">
            <div
                class="w-10 h-10 rounded-full bg-gradient-to-br from-brand-400 to-accent-500 flex items-center justify-center text-white font-bold text-sm shadow-md">
                {{ review.author_name|slice:":1" }}
            </div>
            <div class="ml-3">
                <p class="text-sm font-bold text-slate-900 dark:text-white">{{ review.author_name }}</p>
                <div class="flex text-yellow-400 text-xs">
                    {% if review.rating >= 1 %}★{% else %}☆{% endif %}
                    {% if review.rating >= 2 %}★{% else %}☆{% endif %}
                    {% if review.rating >= 3 %}★{% else %}☆{% endif %}
                    {% if review.rating >= 4 %}★{% else %}☆{% endif %}
                    {% if review.rating >= 5 %}★{% else %}☆{% endif %}
                </div>
            </div>
            <span class="ml-auto text-xs text-slate-400">{{ review.created_at|date:"Y.m.d" }}</span>
        </div>
        <p class="text-slate-600 dark:text-slate-300 leading-relaxed text-sm">
            {{ review.content }}
        </p>
    </div>
    {% empty %}
    <div class="bg-slate-50 p-8 rounded text-center col-span-2">아직 리뷰가 없습니다. 첫 리뷰를 남겨주세요!</div>
    {% endfor %}
</div>

<!-- Pagination for Reviews -->
{% if reviews.has_other_pages %}
<div class="mt-8 pt-8 border-t border-slate-200 dark:border-slate-700 flex justify-center space-x-2">
    {% if reviews.has_previous %}
    <button hx-get="?review_page={{ reviews.previous_page_number }}" hx-target="#review-list-container"
        hx-swap="innerHTML"
        class="px-4 py-2 rounded-lg text-sm font-bold bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition">
        &laquo;
    </button>
    {% endif %}

    {% for i in reviews.paginator.page_range %}
    <button hx-get="?review_page={{ i }}" hx-target="#review-list-container" hx-swap="innerHTML"
        class="px-4 py-2 rounded-lg text-sm font-bold {% if reviews.number == i %}bg-brand-600 text-white shadow-lg shadow-brand-500/30{% else %}bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700{% endif %} transition">
        {{ i }}
    </button>
    {% endfor %}

    {% if reviews.has_next %}
    <button hx-get="?review_page={{ reviews.next_page_number }}" hx-target="#review-list-container" hx-swap="innerHTML"
        class="px-4 py-2 rounded-lg text-sm font-bold bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition">
        &raquo;
    </button>
    {% endif %}
</div>
{% endif %}